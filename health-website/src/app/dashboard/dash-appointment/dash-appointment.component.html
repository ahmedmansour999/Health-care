<div class="app-wrapper">

  <div class="app-content pt-3 p-md-3 p-lg-4">
    <div class="container-xl">




      <nav id="orders-table-tab" class="orders-table-tab app-nav-tabs nav shadow-sm flex-column flex-sm-row mb-4">
        <a class="flex-sm-fill text-sm-center nav-link active" id="orders-all-tab" data-bs-toggle="tab" href="#orders-all" role="tab" aria-controls="orders-all" aria-selected="true" (click)="showAll()">All</a>
        <a class="flex-sm-fill text-sm-center nav-link" id="orders-paid-tab" data-bs-toggle="tab" href="#orders-paid" role="tab" aria-controls="orders-paid" aria-selected="false" (click)="onTabClick('completed')">Accepted</a>
        <a class="flex-sm-fill text-sm-center nav-link" id="orders-pending-tab" data-bs-toggle="tab" href="#orders-pending" role="tab" aria-controls="orders-pending" aria-selected="false" (click)="onTabClick('pending')">Pending</a>
        <a class="flex-sm-fill text-sm-center nav-link" id="orders-cancelled-tab" data-bs-toggle="tab" href="#orders-cancelled" role="tab" aria-controls="orders-cancelled" aria-selected="false" (click)="onTabClick('cancelled')">Cancelled</a>
      </nav>



    <div class="tab-content" id="orders-table-tab-content">
          <div class="tab-pane fade show active" id="orders-all" role="tabpanel" aria-labelledby="orders-all-tab">
          <div class="app-card app-card-orders-table shadow-sm mb-5">
            <div class="app-card-body">
              <div class="table-responsive">
                  <table class="table app-table-hover mb-0 text-left">
                <thead>
                  <tr>
                    <th class="cell">name</th>
                    <th class="cell">Description</th>
                    <th class="cell">Patient Name</th>
                    <th class="cell">Date</th>
                    <th class="cell">status</th>
                    <th class="cell">Price</th>
                    <th class="cell">Action</th>
                  </tr>
                </thead>
                <tbody>
                  @for(appointment of appointments.appointments ; track appointment.id){
                  <tr>
                    <td class="cell">{{appointment.note}}</td>
                    <td class="cell"><span class="truncate">{{appointment.description}}</span></td>
                    <td class="cell">{{appointment.patient.name}}</td>
                    <td class="cell"><span class="cell-data">11 Oct</span><span class="note">11:18 AM</span></td>
                    <td class="cell"><span  class="text-white p-1 fw-bold badge" [ngClass]="{'bg-warning': appointment.status == 'pending'
                                                                                        ,'bg-success': appointment.status == 'completed'
                                                                                        ,'bg-danger': appointment.status == 'cancelled'  }">
                                                                                        @if (appointment.status == 'completed' )
                                                                                        {
                                                                                          Accepted
                                                                                        }@else {
                                                                                          {{appointment.status}}
                                                                                        }</span></td>
                    <td class="cell">{{appointment.price}} Eg</td>
                    @if (appointment.status == 'pending') {
                      <td class="  text-light fw-bold " >
                        <button class="btn-sm btn btn-primary mx-1" (click)="updateAppointment(appointment, 'completed' , appointment.doctor_id)">Active</button>
                        <button class="btn-sm btn btn-danger" (click)="updateAppointment(appointment, 'Cancelled' , appointment.doctor_id )">Cancelled</button>
                      </td>
                    }
                    <td></td>
                  </tr>
                }
                </tbody>
              </table>
                </div>

            </div>
        </div>


          </div><!--//tab-pane-->

          <div class="tab-pane fade" id="orders-paid" role="tabpanel" aria-labelledby="orders-paid-tab">
          <div class="app-card app-card-orders-table mb-5">
            <div class="app-card-body">
              <div class="table-responsive">

                  <table class="table mb-0 text-left">
                <thead>
                  <tr>
                    <th class="cell">name</th>
                    <th class="cell">Description</th>
                    <th class="cell">Patient Name</th>
                    <th class="cell">Date</th>
                    <th class="cell">status</th>
                    <th class="cell">Price</th>
                    <th class="cell">Action</th>
                  </tr>
                </thead>
                <tbody>
                  @for(appointment of appointments.appointments ; track appointment.id){
                  <tr>
                    <td class="cell">{{appointment.note}}</td>
                    <td class="cell"><span class="truncate">{{appointment.description}}</span></td>
                    <td class="cell">{{appointment.patient.name}}</td>
                    <td class="cell"><span class="cell-data">11 Oct</span><span class="note">11:18 AM</span></td>
                    <td class="cell"><span  class="text-white p-1 fw-bold badge" [ngClass]="{'bg-warning': appointment.status == 'pending'
                                                                                        ,'bg-success': appointment.status == 'completed'
                                                                                        ,'bg-danger': appointment.status == 'cancelled'  }">
                                                                                      @if (appointment.status == 'completed' )
                                                                                      {
                                                                                        Accepted
                                                                                      }@else {
                                                                                        {{appointment.status}}
                                                                                      }
                                                                                      </span></td>
                    <td class="cell">{{appointment.price}} Eg</td>
                    @if (appointment.status == 'pending') {
                      <td class="  text-light fw-bold " >
                        <button class="btn-sm btn btn-primary mx-1" (click)="updateAppointment(appointment, 'completed' , appointment.doctor_id)">Active</button>
                        <button class="btn-sm btn btn-danger" (click)="updateAppointment(appointment, 'Cancelled' , appointment.doctor_id )">Cancelled</button>
                      </td>
                    }
                    <td></td>
                  </tr>
                }
                </tbody>
              </table>
                </div><!--//table-responsive-->
            </div><!--//app-card-body-->
        </div><!--//app-card-->
          </div>

          <div class="tab-pane fade" id="orders-pending" role="tabpanel" aria-labelledby="orders-pending-tab">
          <div class="app-card app-card-orders-table mb-5">
            <div class="app-card-body">
              <div class="table-responsive">
                  <table class="table mb-0 text-left">
                <thead>
                  <tr>
                    <th class="cell">name</th>
                    <th class="cell">Description</th>
                    <th class="cell">Patient Name</th>
                    <th class="cell">Date</th>
                    <th class="cell">status</th>
                    <th class="cell">Price</th>
                    <th class="cell">Action</th>
                  </tr>
                </thead>
                <tbody>
                  @for(appointment of appointments.appointments ; track appointment.id){
                  <tr>
                    <td class="cell">{{appointment.note}}</td>
                    <td class="cell"><span class="truncate">{{appointment.description}}</span></td>
                    <td class="cell">{{appointment.patient.name}}</td>
                    <td class="cell"><span class="cell-data">11 Oct</span><span class="note">11:18 AM</span></td>
                    <td class="cell"><span  class="text-white p-1 fw-bold badge" [ngClass]="{'bg-warning': appointment.status == 'pending'
                                                                                        ,'bg-success': appointment.status == 'completed'
                                                                                        ,'bg-danger': appointment.status == 'cancelled'  }">
                                                                                        {{appointment.status}}</span></td>
                    <td class="cell">{{appointment.price}} Eg</td>
                    @if (appointment.status == 'pending') {
                      <td class="  text-light fw-bold " >
                        <button class="btn-sm btn btn-primary mx-1" (click)="updateAppointment(appointment, 'completed' , appointment.doctor_id)">Active</button>
                        <button class="btn-sm btn btn-danger" (click)="updateAppointment(appointment, 'Cancelled' , appointment.doctor_id )">Cancelled</button>
                      </td>
                    }
                    <td></td>
                  </tr>
                }
                </tbody>
              </table>
                </div><!--//table-responsive-->
            </div><!--//app-card-body-->
        </div><!--//app-card-->
          </div><!--//tab-pane-->
          <div class="tab-pane fade" id="orders-cancelled" role="tabpanel" aria-labelledby="orders-cancelled-tab">
          <div class="app-card app-card-orders-table mb-5">
            <div class="app-card-body">
              <div class="table-responsive">
                  <table class="table mb-0 text-left">
                <thead>
                  <tr>
                    <th class="cell">name</th>
                    <th class="cell">Description</th>
                    <th class="cell">Patient Name</th>
                    <th class="cell">Date</th>
                    <th class="cell">status</th>
                    <th class="cell">Price</th>
                    <th class="cell">Action</th>
                  </tr>
                </thead>
                <tbody>
                  @for(appointment of appointments.appointments ; track appointment.id){
                  <tr>
                    <td class="cell">{{appointment.note}}</td>
                    <td class="cell"><span class="truncate">{{appointment.description}}</span></td>
                    <td class="cell">{{appointment.patient.name}}</td>
                    <td class="cell"><span class="cell-data">11 Oct</span><span class="note">11:18 AM</span></td>
                    <td class="cell"><span  class="text-white p-1 fw-bold badge" [ngClass]="{'bg-warning': appointment.status == 'pending'
                                                                                        ,'bg-success': appointment.status == 'completed'
                                                                                        ,'bg-danger': appointment.status == 'cancelled'  }">
                                                                                        {{appointment.status}}</span></td>
                    <td class="cell">{{appointment.price}} Eg</td>
                    @if (appointment.status == 'pending') {
                      <td class="  text-light fw-bold " >
                        <button class="btn-sm btn btn-primary mx-1" (click)="updateAppointment(appointment, 'completed' , appointment.doctor_id)">Active</button>
                        <button class="btn-sm btn btn-danger" (click)="updateAppointment(appointment, 'Cancelled' , appointment.doctor_id )">Cancelled</button>
                      </td>
                    }
                    <td></td>
                  </tr>
                }
                </tbody>
              </table>
                </div>
            </div>
        </div>
          </div>
    </div>



    </div>
  </div>



